# 第七章

## 7-1

```c
#include <stdio.h>
#include <limits.h>

int main(void)
{
	puts("该环境下各字符型、整型数值的范围");
	printf("char               :%d~%d\n",CHAR_MIN,  CHAR_MAX);
	printf("signed char        :%d~%d\n",SCHAR_MIN, SCHAR_MAX);
	printf("unsigned char      :%d~%d\n",0        , UCHAR_MAX);
	
	printf("short              :%d~%d\n",SHRT_MIN,  SHRT_MAX);
	printf("int                :%d~%d\n",INT_MIN,   INT_MAX);
	printf("long               :%ld~%ld\n",LONG_MIN,  LONG_MAX);
	
	printf("unsigned short     :%u~%u\n",0        , USHRT_MAX);
	printf("unsigned           :%u~%u\n",0        , UINT_MAX);
	printf("unsigned long      :%lu~%lu\n",0        ,  ULONG_MAX);
	
	return 0; 
}
```

![](D:\截图\7.1 1.png)

```c
#include <stdio.h>
#include <limits.h>

int main(void)
{
	puts("这个编译器中的char型是");
	
	if(CHAR_MIN)
		puts("有符号的");
	else
		puts("无符号的"); 
	
	return 0; 
}
```

![](D:\截图\7.1 2.png)

```c
#include <stdio.h>

int main(void)
{
	printf("sizeof(char)  = %u\n",(unsigned)sizeof(char));
	printf("sizeof(short) = %u\n",(unsigned)sizeof(short));
	printf("sizeof(int)   = %u\n",(unsigned)sizeof(int));
	printf("sizeof(long)  = %u\n",(unsigned)sizeof(long));
	
	return 0; 
}
```

![](D:\截图\7.1 3.png)

```c
#include <stdio.h>

int main(void)
{
	int    na,nb;
	double dx,dy;
	
	printf("sizeof(int)    = %u\n",(unsigned)sizeof(int));
	printf("sizeof(double) = %u\n",(unsigned)sizeof(double));
	
	printf("sizeof(na)     = %u\n",(unsigned)sizeof(na));
	printf("sizeof(dx)     = %u\n",(unsigned)sizeof(dx));
	
	printf("sizeof(na + nb)= %u\n",(unsigned)sizeof(na + nb));
	printf("sizeof(na + dy)= %u\n",(unsigned)sizeof(na + dy));
	printf("sizeof(dx + dy)= %u\n",(unsigned)sizeof(dx + dy));
	
	return 0; 
}
```

![](D:\截图\7.1 4.png)

```c
#include <stdio.h>

int main(void)
{
	int    vi[10];
	double dx[25];
	
	printf("数组vi的元素个数 = %u\n",(unsigned)(sizeof(vi)/sizeof(vi[0])));
	printf("数组dx的元素个数 = %u\n",(unsigned)(sizeof(dx)/sizeof(dx[0])));
	
	return 0; 
}
```

![](D:\截图\7.1 5.png)

```c
#include <stdio.h>

int main(void)
{
	int n = 0;
	printf("整型1所占字节  = %d\n",sizeof 1);
	printf("整型+1所占字节 = %d\n",sizeof +1);
	printf("整型-1所占字节 = %d\n",sizeof -1);
	
	printf("无符号的整型所占字节-1      = %u\n",sizeof(unsigned)-1);
	printf("无符号的浮点型所占字节-1    = %d\n",sizeof(double)-1);
	printf("无符号的浮点型-1所占字节    = %d\n",sizeof((double)-1));
	
	printf("整型n 所占字节+2     = %d\n",sizeof n + 2);
	printf("整型n + 2            = %d\n",sizeof (n + 2));
	printf("整型n + 2.0所占字节. = %d\n",sizeof (n + 2.0));
	
	return 0; 
}
```

![](D:\截图\7.1 6.png)

```c
#include <stdio.h>

int count_bits(unsigned x)
{
	int bits = 0;
	while (x){
		if(x & 1U)bits++;
		x >>= 1;
	}
	return bits;
}
int int_bits(void)
{
	return count_bits(~0U);
}
void print_bits(unsigned x)
{
	int i;
	for (i = int_bits() - 1;i >= 0;i--)
		putchar(((x >>i ) & 1U) ? '1' : '0');
}
int main(void){
	unsigned a,b;
	printf("请输入两个非负整数。\n");
	printf("a:");  scanf("%d",&a);
	printf("b:");  scanf("%d",&b);
	
	printf("\na     = "); print_bits(a);
	printf("\nb     = "); print_bits(b);
	printf("\na & b = "); print_bits(a & b);
	printf("\na | b = "); print_bits(a | b);
	printf("\na ^ b = "); print_bits(a ^ b);
	printf("\n~a    = "); print_bits(~ a);
	printf("\n~b    = "); print_bits(~ b);
	putchar('\n');
	
	return 0; 
}
```

![](D:\截图\7.1 7.png)

```c
#include <stdio.h>

int count_bits(unsigned x)
{
	int bits = 0;
	while (x){
		if(x & 1U)bits++;
		x >>= 1;
	}
	return bits;
}
int int_bits(void)
{
	return count_bits(~0U);
}
void print_bits(unsigned x)
{
	int i;
	for (i = int_bits() - 1;i >= 0;i--)
		putchar(((x >>i ) & 1U) ? '1' : '0');
}
int main(void){
	unsigned x,n;
	printf("非负整数：");  scanf("%u",&x);
	printf("位移位数：");  scanf("%u",&n);
	
	printf("\n整数        = "); print_bits(x);
	printf("\n左移后的值  = "); print_bits(x << n);
	printf("\n右移后的值  = "); print_bits(x >> n);
	putchar('\n');
	
	return 0; 
}
```

![](D:\截图\7.1 8.png)

```c
#include <stdio.h>
int main(void)
{
	int i,j,k;
	int a[4][3];
	int b[3][4];
	int c[4][4];
	printf("请输入12个数组成4行3列的矩阵：");
	for(i = 0;i < 4,i++){
		for(j = 0;j < 3;j++){ 
			printf("a[%d][%d] = \n",i,j); 
			scanf("%d",&a[i][j]);
		}
	}
	printf("请输入12个数组成3行4列的矩阵：");
	for(i = 0;i < 3,i++){
		for(j = 0;j < 4;j++){
			printf("a[%d][%d] = \n",i,j); 
			scanf("%d",&b[i][j]);
		}
	}
	printf("这两个矩阵的乘积是");
	for(i = 0;i < 4;i++){
		for(k = 0;k < 4;k++){
			for(j = 0;j < 4,j++)
				c[i][j] += a[i][k] * b[k][j];
		}
	}
	return 0;
}
```

